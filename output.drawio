<mxGraphModel dx="1106" dy="821" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">

    <root>
        <mxCell id="0"/>

        <mxCell id="1" parent="0"/>

        <!--

            Order of drawing is:
            1. Links (as these should sit on top of schemas, but beneath tables & columns)
            2. Schemas
            3. Tables
            4. Columns

            NB: Indentation below is not for any graphical reason, but purely to show the loops being executed by Jinja

        -->























            <mxCell id="1000" value="spectrum" style="swimlane;fillColor=#FFFFFF" vertex="1" parent="1"><mxGeometry x="0" y="0" width="350" height="410" as="geometry"/></mxCell>

            <mxCell id="1001" value="customers" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1000">
                    <mxGeometry x="50" y="50" width="72" height="130" as="geometry"/>
                </mxCell>

                <mxCell id="1002" value="id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1001">
                        <mxGeometry y="26" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1003" value="name" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1001">
                        <mxGeometry y="52" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1004" value="age_int" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1001">
                        <mxGeometry y="78" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1005" value="country" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1001">
                        <mxGeometry y="104" width="72" height="26" as="geometry"/>
                    </mxCell>



            <mxCell id="1024" value="sales" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1000">
                    <mxGeometry x="50" y="230" width="152" height="130" as="geometry"/>
                </mxCell>

                <mxCell id="1025" value="customer_id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1024">
                        <mxGeometry y="26" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1026" value="total_quantity_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1024">
                        <mxGeometry y="52" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1027" value="total_value_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1024">
                        <mxGeometry y="78" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1028" value="number_of_purchases" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1024">
                        <mxGeometry y="104" width="152" height="26" as="geometry"/>
                    </mxCell>





        <mxCell id="1012" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1002" target="1008">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="475" y="76"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1013" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1003" target="1009">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="400" y="102"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1014" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1004" target="1010">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="325" y="128"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1015" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1005" target="1011">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="250" y="154"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>





            <mxCell id="1034" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1025" target="1030">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="475" y="256"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1035" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1026" target="1031">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="400" y="282"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1036" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1027" target="1032">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="325" y="308"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1037" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1028" target="1033">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="250" y="334"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>







            <mxCell id="1006" value="stage" style="swimlane;fillColor=#FFFFFF" vertex="1" parent="1"><mxGeometry x="500" y="0" width="350" height="410" as="geometry"/></mxCell>

            <mxCell id="1007" value="customers" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1006">
                    <mxGeometry x="50" y="50" width="72" height="130" as="geometry"/>
                </mxCell>

                <mxCell id="1008" value="id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1007">
                        <mxGeometry y="26" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1009" value="name" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1007">
                        <mxGeometry y="52" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1010" value="age" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1007">
                        <mxGeometry y="78" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1011" value="country_2" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1007">
                        <mxGeometry y="104" width="72" height="26" as="geometry"/>
                    </mxCell>



            <mxCell id="1029" value="customer_sales" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1006">
                    <mxGeometry x="50" y="230" width="152" height="130" as="geometry"/>
                </mxCell>

                <mxCell id="1030" value="customer_id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1029">
                        <mxGeometry y="26" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1031" value="total_quantity_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1029">
                        <mxGeometry y="52" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1032" value="total_value_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1029">
                        <mxGeometry y="78" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1033" value="number_of_purchases" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1029">
                        <mxGeometry y="104" width="152" height="26" as="geometry"/>
                    </mxCell>





        <mxCell id="1021" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1008" target="1018">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="950" y="76"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1022" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1009" target="1019">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="850" y="102"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1023" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1010" target="1020">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="750" y="128"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>





            <mxCell id="1046" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1009" target="1039">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1008" y="334"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1047" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1010" target="1040">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="966" y="360"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1048" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1031" target="1041">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="924" y="386"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1049" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1032" target="1042">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="882" y="412"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1050" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1033" target="1043">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="840" y="438"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1051" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1030" target="1044">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="798" y="464"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>



                <mxCell id="1052" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1008" target="1045">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="756" y="490"/>
                        </Array>
                    </mxGeometry>
                    </mxCell>







            <mxCell id="1016" value="reporting" style="swimlane;fillColor=#FFFFFF" vertex="1" parent="1"><mxGeometry x="1000" y="0" width="350" height="566" as="geometry"/></mxCell>

            <mxCell id="1017" value="customers" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1016">
                    <mxGeometry x="50" y="50" width="72" height="104" as="geometry"/>
                </mxCell>

                <mxCell id="1018" value="id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1017">
                        <mxGeometry y="26" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1019" value="name" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1017">
                        <mxGeometry y="52" width="72" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1020" value="age" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1017">
                        <mxGeometry y="78" width="72" height="26" as="geometry"/>
                    </mxCell>



            <mxCell id="1038" value="customer_sales" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#FFFFFF;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1016">
                    <mxGeometry x="50" y="308" width="152" height="208" as="geometry"/>
                </mxCell>

                <mxCell id="1039" value="name" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="26" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1040" value="age" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="52" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1041" value="total_quantity_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="78" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1042" value="total_value_sold" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="104" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1043" value="number_of_purchases" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="130" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1044" value="customer_id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="156" width="152" height="26" as="geometry"/>
                    </mxCell>

                <mxCell id="1045" value="id" style="text;strokeColor=none;fillColor=#FFFFFF;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="1038">
                        <mxGeometry y="182" width="152" height="26" as="geometry"/>
                    </mxCell>






            </root>
        </mxGraphModel>
